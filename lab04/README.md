# Лабораторная работа #4

## Вариант 4132

### Задание

Составить запросы на языке SQL (пункты 1-2).

Для каждого запроса предложить индексы, добавление которых уменьшит время выполнения запроса (указать таблицы/атрибуты, для которых нужно добавить индексы, написать тип индекса; объяснить, почему добавление индекса будет полезным для данного запроса).

Для запросов 1-2 необходимо составить возможные планы выполнения запросов. Планы составляются на основании предположения, что в таблицах отсутствуют индексы. Из составленных планов необходимо выбрать оптимальный и объяснить свой выбор.
Изменятся ли планы при добавлении индекса и как?

Для запросов 1-2 необходимо добавить в отчет вывод команды `EXPLAIN ANALYZE [запрос]`

Подробные ответы на все вышеперечисленные вопросы должны присутствовать в отчете (планы выполнения запросов должны быть нарисованы, ответы на вопросы - представлены в текстовом виде).

## Запросы

1. **Запрос 1**

Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: `Н_ОЦЕНКИ`, `Н_ВЕДОМОСТИ`.
Вывести атрибуты: `Н_ОЦЕНКИ.КОД`, `Н_ВЕДОМОСТИ.ИД`.
Фильтры (`AND`):

    - `Н_ОЦЕНКИ.ПРИМЕЧАНИЕ = отлично`.
    - `Н_ВЕДОМОСТИ.ЧЛВК_ИД < 105590`.
    - `Н_ВЕДОМОСТИ.ЧЛВК_ИД < 163249`.
    
Вид соединения: `RIGHT JOIN`.

2. **Запрос 2**

Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: `Н_ЛЮДИ`, `Н_ОБУЧЕНИЯ`, `Н_УЧЕНИКИ`.
Вывести атрибуты: `Н_ЛЮДИ.ИМЯ`, `Н_ОБУЧЕНИЯ.НЗК`, `Н_УЧЕНИКИ.НАЧАЛО`.
Фильтры (`AND`):

    - `Н_ЛЮДИ.ОТЧЕСТВО < Георгиевич`.
    - `Н_ОБУЧЕНИЯ.ЧЛВК_ИД > 105590`.

Вид соединения: `LEFT JOIN`.
